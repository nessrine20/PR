<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TP - Machine Learning avec Python</title>
<style>
  body { font-family: Arial; margin: 0; background: #f4eaff; line-height: 1.8; }
  .topbar {
    background: linear-gradient(135deg, #c59bff, #b07cff);
    padding: 15px 30px; display: flex; justify-content: space-between;
    align-items: center; color: white; position: sticky; top: 0; z-index: 10;
  }
  .topbar-title { font-size: 20px; font-weight: bold; }
  .back-btn { padding: 8px 16px; background: #fff; color: #6a34cc; border-radius: 8px; font-weight: bold; text-decoration: none; }
  .container { width: 70%; margin: 40px auto; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); }
  h1 { color: #4a2db6; border-bottom: 3px solid #e9d6ff; padding-bottom: 15px; }
  h2 { color: #5b22b3; margin-top: 30px; }
  .objective { background: #e8f4ff; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #007bff; }
  .step { background: #f8f4ff; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #6a34cc; }
  .step-num { background: #6a34cc; color: white; padding: 5px 12px; border-radius: 50%; font-weight: bold; margin-right: 10px; }
  .code-block { background: #2d2d2d; color: #f8f8f2; padding: 20px; border-radius: 10px; font-family: monospace; overflow-x: auto; margin: 15px 0; white-space: pre-wrap; }
  .output { background: #1a1a1a; color: #00ff00; padding: 15px; border-radius: 10px; font-family: monospace; margin: 15px 0; }
  .warning { background: #fff3cd; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #ffc107; }
  .success { background: #d4edda; padding: 15px; border-radius: 10px; margin: 15px 0; border-left: 4px solid #28a745; }
</style>
</head>
<body>

<div class="topbar">
  <div class="topbar-title">üîß TP - Machine Learning</div>
  <a href="../ia.html" class="back-btn">‚Üê Retour au cours</a>
</div>

<div class="container">
  <h1>üîß TP : Classification avec Scikit-learn</h1>
  
  <div class="objective">
    <strong>üéØ Objectifs :</strong>
    <ul>
      <li>Charger et explorer un dataset</li>
      <li>Entra√Æner un mod√®le de classification</li>
      <li>√âvaluer les performances</li>
    </ul>
    <strong>‚è±Ô∏è Dur√©e :</strong> 2h<br>
    <strong>üõ†Ô∏è Pr√©requis :</strong> Python, pip install scikit-learn pandas matplotlib
  </div>

  <h2>Partie 1 : Pr√©paration</h2>

  <div class="step">
    <p><span class="step-num">1</span><strong>Installation des librairies</strong></p>
    <div class="code-block">pip install scikit-learn pandas matplotlib seaborn</div>
  </div>

  <div class="step">
    <p><span class="step-num">2</span><strong>Imports</strong></p>
    <div class="code-block"># Imports n√©cessaires
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score, classification_report, confusion_matrix
import seaborn as sns</div>
  </div>

  <h2>Partie 2 : Chargement des donn√©es</h2>

  <div class="step">
    <p><span class="step-num">3</span><strong>Charger le dataset Iris</strong></p>
    <div class="code-block"># Charger le dataset Iris (classification de fleurs)
from sklearn.datasets import load_iris

iris = load_iris()
X = iris.data  # Features (4 mesures de la fleur)
y = iris.target  # Labels (3 esp√®ces)

# Cr√©er un DataFrame pour visualiser
df = pd.DataFrame(X, columns=iris.feature_names)
df['species'] = y

print("Aper√ßu des donn√©es :")
print(df.head())
print(f"\nShape: {df.shape}")
print(f"\nClasses: {iris.target_names}")</div>
    <div class="output">Aper√ßu des donn√©es :
   sepal length  sepal width  petal length  petal width  species
0           5.1          3.5           1.4          0.2        0
1           4.9          3.0           1.4          0.2        0
2           4.7          3.2           1.3          0.2        0

Shape: (150, 5)
Classes: ['setosa' 'versicolor' 'virginica']</div>
  </div>

  <h2>Partie 3 : Pr√©paration des donn√©es</h2>

  <div class="step">
    <p><span class="step-num">4</span><strong>Diviser Train/Test</strong></p>
    <div class="code-block"># Diviser les donn√©es (80% train, 20% test)
X_train, X_test, y_train, y_test = train_test_split(
    X, y, 
    test_size=0.2, 
    random_state=42,
    stratify=y  # Garder la m√™me proportion de classes
)

print(f"Train set: {X_train.shape[0]} √©chantillons")
print(f"Test set: {X_test.shape[0]} √©chantillons")</div>
  </div>

  <div class="step">
    <p><span class="step-num">5</span><strong>Normalisation (optionnel mais recommand√©)</strong></p>
    <div class="code-block"># Normaliser les features
scaler = StandardScaler()
X_train_scaled = scaler.fit_transform(X_train)
X_test_scaled = scaler.transform(X_test)</div>
  </div>

  <h2>Partie 4 : Entra√Ænement du mod√®le</h2>

  <div class="step">
    <p><span class="step-num">6</span><strong>Cr√©er et entra√Æner le mod√®le</strong></p>
    <div class="code-block"># Cr√©er le mod√®le Random Forest
model = RandomForestClassifier(
    n_estimators=100,  # Nombre d'arbres
    random_state=42
)

# Entra√Æner le mod√®le
model.fit(X_train_scaled, y_train)

print("‚úÖ Mod√®le entra√Æn√© !")</div>
  </div>

  <h2>Partie 5 : √âvaluation</h2>

  <div class="step">
    <p><span class="step-num">7</span><strong>Pr√©dictions et m√©triques</strong></p>
    <div class="code-block"># Faire des pr√©dictions
y_pred = model.predict(X_test_scaled)

# Calculer l'accuracy
accuracy = accuracy_score(y_test, y_pred)
print(f"Accuracy: {accuracy:.2%}")

# Rapport d√©taill√©
print("\nRapport de classification:")
print(classification_report(y_test, y_pred, target_names=iris.target_names))</div>
    <div class="output">Accuracy: 100.00%

Rapport de classification:
              precision    recall  f1-score   support

      setosa       1.00      1.00      1.00        10
  versicolor       1.00      1.00      1.00        10
   virginica       1.00      1.00      1.00        10

    accuracy                           1.00        30</div>
  </div>

  <div class="step">
    <p><span class="step-num">8</span><strong>Matrice de confusion</strong></p>
    <div class="code-block"># Afficher la matrice de confusion
cm = confusion_matrix(y_test, y_pred)

plt.figure(figsize=(8, 6))
sns.heatmap(cm, annot=True, fmt='d', cmap='Purples',
            xticklabels=iris.target_names,
            yticklabels=iris.target_names)
plt.xlabel('Pr√©dit')
plt.ylabel('R√©el')
plt.title('Matrice de Confusion')
plt.show()</div>
  </div>

  <h2>Partie 6 : Tester avec de nouvelles donn√©es</h2>

  <div class="step">
    <p><span class="step-num">9</span><strong>Faire une pr√©diction</strong></p>
    <div class="code-block"># Nouvelle fleur √† classifier
nouvelle_fleur = [[5.0, 3.5, 1.5, 0.2]]  # sepal/petal length/width

# Normaliser
nouvelle_fleur_scaled = scaler.transform(nouvelle_fleur)

# Pr√©dire
prediction = model.predict(nouvelle_fleur_scaled)
proba = model.predict_proba(nouvelle_fleur_scaled)

print(f"Esp√®ce pr√©dite: {iris.target_names[prediction[0]]}")
print(f"Probabilit√©s: {dict(zip(iris.target_names, proba[0].round(3)))}")</div>
    <div class="output">Esp√®ce pr√©dite: setosa
Probabilit√©s: {'setosa': 1.0, 'versicolor': 0.0, 'virginica': 0.0}</div>
  </div>

  <div class="success">
    <strong>‚úÖ F√©licitations !</strong> Vous avez cr√©√© votre premier mod√®le de Machine Learning !
  </div>

  <h2>üìù Exercices suppl√©mentaires</h2>
  <ul>
    <li>Essayez d'autres algorithmes (KNN, SVM, DecisionTree)</li>
    <li>Comparez les performances</li>
    <li>Changez les hyperparam√®tres (n_estimators)</li>
    <li>Testez avec le dataset "digits" ou "wine"</li>
  </ul>
</div>

</body>
</html>


